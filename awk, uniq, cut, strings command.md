# awk, uniq, cut, strings command

## awk command

> `awk` เครื่องมือประมวลผลข้อความและข้อมูล ใช้สำหรับค้นหาและจัดรูปแบบข้อมูลในไฟล์ข้อความ

> [!NOTE]
> Awk ถือเป็น script language อันหนึ่ง ซึ่งใช้เพื่อเปลี่ยนแปลงข้อมูลและสร้าง report ได้ โดย awk command เป็นตัวที่ช่วยได้มากในการจัดการข้อมูลในลักษณะต่างๆ ไม่ว่าจะเป็น
> - การ scan file แบบบรรทัดต่อบรรทัด
> - การแยกข้อความในแต่ละ line ให้เป็น field
> - การเปรียบเทียบระหว่าง input และ field กับ pattern
> - กระทำใดๆกับข้อความที่ตรงกับเงื่อนไข

### ตัวอย่างการใช้งาน awk

> ในการใช้ `awk` คู่กับ `length` เพื่อค้นหาบรรทัดที่มีความยาวมากที่สุดในไฟล์

```
awk 'length > max_length { max_length = length; longest_line = $0 } END { print longest_line }' flag.txt
```

> [!NOTE]
> - `length > max_length` ตรวจสอบว่าความยาวของบรรทัดปัจจุบันมากกว่าค่าความยาวสูงสุดที่เก็บไว้หรือไม่
> - `max_length = length` ถ้าใช่ ให้ปรับค่าความยาวสูงสุดเป็นค่าความยาวของบรรทัดปัจจุบัน
> - `longest_line = $0` เก็บบรรทัดที่ยาวที่สุดในตัวแปร longest_line
> - `END { print longest_line }` เมื่อประมวลผลทั้งหมดเสร็จสิ้น ให้พิมพ์บรรทัดที่ยาวที่สุด

### ผลลัพธ์

![Screenshot 2024-05-28 160927](https://github.com/Atiwitch15101/Linux-Knowledge/assets/159407312/71f2e569-3641-4e2a-942b-8e98682a336e)

## uniq command

> คำสั่ง `uniq` ใช้เพื่อกรองรายการซ้ำจากข้อมูลที่เรียงลำดับแล้ว โดยจะแสดงเฉพาะบรรทัดที่ไม่ซ้ำกัน

### ตัวอย่างการใช้งาน uniq

> หาบรรทัดที่ไม่มีการเกิดซ้ำและนำ 10 ตัวอักษรสุดท้ายของบรรทัดมาใส่ใน blinux{[ข้อความ]}

```
sort flag.txt | uniq -u
```

> [!NOTE]
> - `sort flag.txt` คำสั่งนี้จะเรียงลำดับบรรทัดในไฟล์ `flag.txt` ตามตัวอักษร
> - `uniq -u` คำสั่งนี้จะกรองบรรทัดที่ไม่ซ้ำกันออกมา และ `-u` หมายถึงแสดงเฉพาะบรรทัดที่ไม่ซ้ำกันเท่านั้น

### ผลลัพธ์

![Screenshot 2024-05-28 163802](https://github.com/Atiwitch15101/Linux-Knowledge/assets/159407312/f4507dfe-55db-4a5c-b70f-fd73fcc1820c)

## cut command

> `cut` ใช้ในการตัดแยกข้อมูลจากไฟล์หรือสตรีมข้อมูล โดยใช้ตัวกำหนดคำแบ่งและเลือกคอลัมน์ที่ต้องการแสดง

### ตัวอย่างการใช้งาน cut

> หาบรรทัดที่ไม่มีการเกิดซ้ำและนำตัวอักษรถึง 4-13 ของบรรทัดออกมาใส่ใน blinux{[ข้อความ]}

```
sort file.txt | uniq -u | cut -c 4-13
```

> [!NOTE]
> - `sort file.txt` เรียงลำดับบรรทัดในไฟล์ file.txt ตามลำดับพจนานุกรม
> - `uniq -u` เลือกบรรทัดที่ไม่ซ้ำกันเพียงครั้งเดียวจากผลลัพธ์ที่ได้จาก sort (unique)
> - `cut -c 4-13` ตัดตำแหน่งข้อความที่ตั้งแต่ตำแหน่งที่ 4 ถึง 13 ของแต่ละบรรทัด

### ผลลัพธ์

![Screenshot 2024-05-28 165201](https://github.com/Atiwitch15101/Linux-Knowledge/assets/159407312/24a09b8d-ed1c-4cf4-933e-47c0a5882d6b)

## strings command

> `strings` ใช้ดึงข้อความจากไฟล์ binary ที่อ่านได้ โดยไม่ต้องแปลง binary เป็นข้อมูลข้อความหรือฐานสามารถ ทำให้ง่ายต่อการตรวจสอบข้อมูลที่ซ่อนอยู่ในไฟล์บางประเภท

### ตัวอย่างการใช้งาน strings

> หา `flag` จากในไฟล์ `flag.binary` ที่อยู่ใน `/home/noob/`

```
strings /home/noob/flag.binary | head -n 10
```

> [!NOTE]
> - `strings` คำสั่งที่ใช้สำหรับแสดงข้อความที่พบในไฟล์
> - `/home/noob/flag.binary` ตำแหน่งของไฟล์ที่ต้องการอ่าน
> - `head -n 10` ใช้เพื่อแสดงบรรทัดแรกจนถึงบรรทัดที่ 10 เท่านั้น

### ผลลัพธ์

![Screenshot 2024-05-28 172406](https://github.com/Atiwitch15101/Linux-Knowledge/assets/159407312/7ed0de96-5f13-4960-862c-ddc2413887ae)
